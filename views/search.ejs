<% for(var i= 0; i<posts.length; i++){ %>
<li>
  <h3>할 일 제목 : <%= posts[i].제목 %></h3>
  <p>할 일 마감날짜 : <%= posts[i].날짜 %></p>
  <button class="delete" data-id="<%= posts[i]._id %>">삭제</button>
</li>

<% } %>



<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous">
</script>

<script src=" https://code.jquery.com/jquery-3.4.1.min.js"> </script>
<script>
  $('.delete').click((e) => {
    var text_number = e.target.dataset.id;
    var click_now = $(e.target);
    console.log(text_number);
    $.ajax({
      method: 'DELETE',
      url: '/delete',
      data: {
        _id: text_number
      }
    }).done((result) => {
      console.log('성공')
      console.log(click_now);
      click_now.parent('li').fadeOut();
    }).fail((xhr, textStatus, errorThrown) => {
      console.log(xhr, textStatus, errorThrown);
    });

  });


  $('#search').click(() => {
    var get_value = $('#search_input').val();
    window.location.replace('/search?value=' + get_value);
  });
</script>